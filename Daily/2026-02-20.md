# 2026-02-20 ê°œë°œ ì¼ì§€

#daily #vroong #ì •ì‚° #ì½”ë“œì •ë¦¬ #ìµœì í™”

---

## ğŸ“Š ì˜¤ëŠ˜ ì‘ì—… ìš”ì•½

| ì‘ì—… | ìƒíƒœ | ë¶„ë¥˜ |
|------|:----:|------|
| ê³µì œ ê¸°ê°„ êµì§‘í•© ë¡œì§ prod ë¨¸ì§€ | âœ… | Backend |
| Firebase/PushToken ì½”ë“œ ì‚­ì œ | âœ… | Refactor |
| ì£¼ê°„ë³´ê³ ì„œ 2ì›” 2ì£¼ì°¨/3ì£¼ì°¨ ì‘ì„± | âœ… | Documentation |
| domain/balance ìµœì í™” | âœ… | Refactor |
| domain/center ìµœì í™” | âœ… | Refactor |

---

## 1. ê³µì œ ê¸°ê°„ êµì§‘í•© ë¡œì§ prod ë¨¸ì§€

> [!info] ë°°ê²½
> - dev ë¸Œëœì¹˜ì—ì„œ ì‘ì—…í•œ ì¼ì°¨ê° êµì§‘í•© ë¡œì§ì„ prodë¡œ ë¨¸ì§€ í•„ìš”
> - ë‹¨, ìˆ˜ìˆ˜ë£Œ ê´€ë ¨ ë¡œì§ì€ devì—ì„œ ê°€ì ¸ì˜¤ë©´ ì•ˆë¨ (prod ë²„ì „ ìœ ì§€)

> [!warning] ë¬¸ì œ
> - ë‹¨ìˆœ ë¨¸ì§€ ì‹œ ìˆ˜ìˆ˜ë£Œ ê³„ì‚° ë¡œì§ê¹Œì§€ ë®ì–´ì”Œì›Œì§
> - PartnerSettlementUseCase, RiderSettlementUseCase ëª¨ë‘ í•´ë‹¹

> [!success] í•´ê²°
> - ì„ íƒì  ë¨¸ì§€ ì§„í–‰: 4ê°œ íŒŒì¼ë§Œ ë¨¸ì§€
>   - `PartnerSettlementController.java` - ì¡°íšŒì¼ì ë²”ìœ„ ê¸°ëŠ¥
>   - `VrSupplierInfoQueryDslRepository.java` - í˜‘ë ¥ì‚¬ ì •ë³´ ì¡°íšŒ ë©”ì„œë“œ
>   - `PartnerSettlementUseCase.java` - ê³µì œ êµì§‘í•© ë¡œì§ë§Œ (ìˆ˜ìˆ˜ë£Œ ë¡œì§ ì œì™¸)
>   - `RiderSettlementUseCase.java` - ê³µì œ êµì§‘í•© ë¡œì§ë§Œ (ìˆ˜ìˆ˜ë£Œ ë¡œì§ ì œì™¸)

> [!tip] ë°°ìš´ ì 
> - git ì„ íƒì  ë¨¸ì§€ ì‹œ íŒŒì¼ ë‹¨ìœ„ë³´ë‹¤ ì½”ë“œ ë¸”ë¡ ë‹¨ìœ„ë¡œ ì‹ ì¤‘í•˜ê²Œ ì§„í–‰ í•„ìš”
> - ìˆ˜ìˆ˜ë£Œ/ì •ì‚° ê°™ì€ ë¯¼ê°í•œ ë¡œì§ì€ ë³„ë„ ë¸Œëœì¹˜ ê´€ë¦¬ ê³ ë ¤

### ì»¤ë°‹
```
3af64df ê³µì œ ê¸°ê°„ êµì§‘í•© ë¡œì§ ì¶”ê°€ ë° í˜‘ë ¥ì‚¬ ì •ì‚° ì¡°íšŒ ê°œì„ 
```

---

## 2. Firebase/PushToken ì½”ë“œ ì‚­ì œ

> [!info] ë°°ê²½
> - Firebase FCM í‘¸ì‹œ ì•Œë¦¼ ê¸°ëŠ¥ ë¯¸ì‚¬ìš©
> - ê´€ë ¨ ì½”ë“œê°€ í”„ë¡œì íŠ¸ì— ë¶ˆí•„ìš”í•˜ê²Œ ë‚¨ì•„ìˆìŒ

> [!success] í•´ê²°
> - Firebase ê´€ë ¨ íŒŒì¼ ì‚­ì œ
>   - `FirebaseConfig.java`
>   - `FcmService.java`
> - PushToken ê´€ë ¨ íŒŒì¼ ì‚­ì œ (8ê°œ)
>   - `PushTokenController.java`
>   - `PushTokenUseCase.java`
>   - `PushTokenRequest.java`
>   - `PushTokenDeleteRequest.java`
>   - `PushTokenJpaRepository.java`
>   - `PushTokenEntity.java`
> - `NoticeUseCase.java`ì—ì„œ í‘¸ì‹œ ê´€ë ¨ ì½”ë“œ ì œê±°
> - ë¹ˆ í´ë” ì •ë¦¬ (`controller/push`, `domain/push` ë“±)

> [!tip] ë°°ìš´ ì 
> - ë¯¸ì‚¬ìš© ê¸°ëŠ¥ ì œê±° ì‹œ ì˜ì¡´ì„± ì²´ì¸ ì „ì²´ í™•ì¸ í•„ìš”
> - NoticeUseCase â†’ PushTokenUseCase â†’ FcmService ì—°ê²° êµ¬ì¡°

---

## 3. ë„ë©”ì¸ ì½”ë“œ ìµœì í™” (balance, center)

> [!info] ë°°ê²½
> - ì½”ë“œ í’ˆì§ˆ í–¥ìƒ ë° ìœ ì§€ë³´ìˆ˜ì„± ê°œì„ ì„ ìœ„í•œ ìµœì í™” ì§„í–‰
> - ìµœì í™” ê¸°ì¤€: ë¯¸ì‚¬ìš© ì½”ë“œ ì œê±°, ìƒìˆ˜í™”, ì£¼ì„ ì¶”ê°€, ì¡°ê±´ë¬¸ ê°œì„  ë“±

### 3-1. domain/balance ìµœì í™”

**BalanceUseCase.java**
| í•­ëª© | Before | After |
|------|--------|-------|
| ë¯¸ì‚¬ìš© ì½”ë“œ | `@Slf4j` ë¯¸ì‚¬ìš© | ì œê±° |
| ìƒìˆ˜ ì „íŒŒ | `"S"`, `"C"` ë§¤ì§ ìŠ¤íŠ¸ë§ | `ACCT_TARGET_SUPPLIER`, `ACCT_TARGET_HEADQUARTERS` |
| ì¤‘ë³µ ì½”ë“œ | null ì²´í¬ ì¤‘ë³µ | `getBalanceAmount()` í—¬í¼ ë©”ì„œë“œ |
| ì£¼ì„ | ì—†ìŒ | JavaDoc ì¶”ê°€ |

### 3-2. domain/center ìµœì í™”

| íŒŒì¼ | ìµœì í™” ë‚´ìš© |
|------|------------|
| `ChangeCenterCommand.java` | JavaDoc ì¶”ê°€, `isBlank()` ì‚¬ìš©, `hasText()` í—¬í¼ |
| `CenterConverter.java` | `@Slf4j` ì œê±°, ìƒìˆ˜í™”, `toList()` ì‚¬ìš©, ì„¹ì…˜ êµ¬ë¶„ |
| `Center.java` | í´ë˜ìŠ¤/í•„ë“œ JavaDoc ì¶”ê°€ |
| `CenterList.java` | í´ë˜ìŠ¤/í•„ë“œ/ë©”ì„œë“œ JavaDoc ì¶”ê°€ |
| `CenterInfoQuery.java` | í´ë˜ìŠ¤/í•„ë“œ JavaDoc ì¶”ê°€ |
| `CenterRepository.java` | ì¸í„°í˜ì´ìŠ¤/ë©”ì„œë“œ JavaDoc ì¶”ê°€ |
| `CenterUseCase.java` | JavaDoc ì¶”ê°€, Optional í•¨ìˆ˜í˜• íŒ¨í„´, í—¬í¼ ë©”ì„œë“œ ì¶”ì¶œ |

> [!tip] ë°°ìš´ ì 
> - Java 21 ì‚¬ìš© ì‹œ `toList()`, `isBlank()` ë“± ìµœì‹  API í™œìš© ê°€ëŠ¥
> - Optionalì˜ `map().orElseGet()` íŒ¨í„´ì´ if-elseë³´ë‹¤ ê°€ë…ì„± ì¢‹ìŒ
> - ë„ë©”ì¸ í´ë” í‘œì¤€ êµ¬ì¡°: `command/`, `model/`, `usecase/`, `converter/`, `repository/`, `query/`

---

## ğŸ“‹ TODO

- [ ] domain/common ìµœì í™”
- [ ] domain/delivery ìµœì í™”
- [ ] domain/hecto ìµœì í™”
- [ ] domain/login ìµœì í™”
- [ ] domain/portal í•˜ìœ„ ë„ë©”ì¸ ìµœì í™”
- [ ] ë‚˜ë¨¸ì§€ ë„ë©”ì¸ ìµœì í™” ì™„ë£Œ

---

## ğŸ“ ë©”ëª¨

### ë„ë©”ì¸ í´ë” ê¶Œì¥ êµ¬ì¡°
```
domain/{ë„ë©”ì¸ëª…}/
â”œâ”€â”€ command/      # ìƒì„±/ìˆ˜ì •/ì‚­ì œ ëª…ë ¹ ê°ì²´
â”œâ”€â”€ model/        # ë„ë©”ì¸ ëª¨ë¸, Result DTO
â”œâ”€â”€ usecase/      # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”œâ”€â”€ converter/    # Entity â†” Model ë³€í™˜
â”œâ”€â”€ repository/   # Repository ì¸í„°í˜ì´ìŠ¤
â””â”€â”€ query/        # ì¡°íšŒ ì „ìš© ì¿¼ë¦¬ ê°ì²´ (ì„ íƒ)
```

### ìµœì í™” ì²´í¬ë¦¬ìŠ¤íŠ¸
1. ë¯¸ì‚¬ìš© ì½”ë“œ ì œê±° (`@Slf4j` ë“±)
2. ë§¤ì§ ìŠ¤íŠ¸ë§ â†’ ìƒìˆ˜í™”
3. ì¤‘ë³µ ì½”ë“œ â†’ í—¬í¼ ë©”ì„œë“œ ì¶”ì¶œ
4. `Collectors.toList()` â†’ `toList()` (Java 16+)
5. `trim().isEmpty()` â†’ `isBlank()` (Java 11+)
6. if-else â†’ Optional í•¨ìˆ˜í˜• íŒ¨í„´
7. í´ë˜ìŠ¤/ë©”ì„œë“œ/í•„ë“œ JavaDoc ì¶”ê°€
8. ê¸°ëŠ¥ë³„ ì„¹ì…˜ êµ¬ë¶„ ì£¼ì„

### ìˆ˜ì •ëœ íŒŒì¼ ëª©ë¡

**prod ë¨¸ì§€ (4ê°œ)**
```
PartnerSettlementController.java
PartnerSettlementUseCase.java
RiderSettlementUseCase.java
VrSupplierInfoQueryDslRepository.java
```

**ì‚­ì œëœ íŒŒì¼ (10ê°œ)**
```
FirebaseConfig.java
FcmService.java
PushTokenController.java
PushTokenUseCase.java
PushTokenRequest.java
PushTokenDeleteRequest.java
PushTokenJpaRepository.java
PushTokenEntity.java
QPushTokenEntity.java
```

**ìµœì í™”ëœ íŒŒì¼ (8ê°œ)**
```
BalanceUseCase.java
ChangeCenterCommand.java
CenterConverter.java
Center.java
CenterList.java
CenterInfoQuery.java
CenterRepository.java
CenterUseCase.java
```
